<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VowKy - macOS 语音输入工具</title>
<meta name="description" content="VowKy - 按下快捷键，说话即输入。完全离线语音识别，隐私至上。">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<script defer src="https://analytics.vowky.com/script.js" data-website-id="YOUR_WEBSITE_ID"></script>
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --bg: #F7FAF0;
  --bg-secondary: #F0F5E4;
  --bg-card: #FFFFFF;
  --bg-elevated: #E8EED8;
  --text-primary: #1A2210;
  --text-secondary: #4E5C3A;
  --text-muted: #8A9872;
  --accent-bright: #D4E87C;
  --accent-main: #B8D458;
  --accent-deep: #8AAE3A;
  --accent-dark: #5A6B2A;
  --accent-darkest: #4A5A22;
  --accent-glow: rgba(212, 232, 124, 0.25);
  --border: #DCE6C8;
  --border-light: #E8EED8;
  --gradient-hero: linear-gradient(160deg, #EBF2D8 0%, #F7FAF0 30%, #F0F5E4 60%, #E4ECC8 100%);
  --gradient-accent: linear-gradient(135deg, #D4E87C, #B8D458);
  --gradient-accent-hover: linear-gradient(135deg, #C8E06A, #A0C44A);
  --gradient-soft: linear-gradient(180deg, rgba(212,232,124,0.1), transparent);
  --font-body: 'Inter', -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif;
  --font-mono: 'SF Mono', 'Fira Code', 'JetBrains Mono', monospace;
  --shadow-sm: 0 1px 3px rgba(74, 90, 34, 0.06);
  --shadow-md: 0 4px 16px rgba(74, 90, 34, 0.08);
  --shadow-lg: 0 12px 40px rgba(74, 90, 34, 0.12);
  --radius: 14px;
  --radius-sm: 10px;
}

html { scroll-behavior: smooth; }
body {
  font-family: var(--font-body);
  background: var(--bg);
  color: var(--text-primary);
  line-height: 1.6;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

/* ===== Nav ===== */
nav {
  position: fixed; top: 0; left: 0; right: 0; z-index: 100;
  padding: 0.9rem 2rem;
  display: flex; align-items: center; justify-content: space-between;
  transition: all 0.4s;
}
nav.scrolled {
  background: rgba(247, 250, 240, 0.85);
  backdrop-filter: blur(20px) saturate(1.4);
  border-bottom: 1px solid var(--border-light);
  box-shadow: 0 1px 8px rgba(74, 90, 34, 0.04);
}
.nav-brand {
  font-size: 1.3rem; font-weight: 800;
  color: var(--text-primary); text-decoration: none;
  letter-spacing: -0.03em;
}
.nav-right { display: flex; align-items: center; gap: 0.9rem; }
.lang-switch {
  display: flex; background: var(--bg-secondary);
  border-radius: 8px; padding: 3px; border: 1px solid var(--border-light);
}
.lang-btn {
  padding: 0.25rem 0.65rem; border: none; border-radius: 6px;
  background: transparent; color: var(--text-muted);
  font-size: 0.78rem; cursor: pointer; transition: all 0.25s;
  font-family: var(--font-body);
}
.lang-btn.active { background: #fff; color: var(--text-primary); box-shadow: var(--shadow-sm); }
.nav-link {
  display: inline-flex; align-items: center; gap: 0.35rem;
  color: var(--text-secondary); text-decoration: none;
  font-size: 0.85rem; transition: color 0.3s;
}
.nav-link:hover { color: var(--text-primary); }
.nav-cta {
  padding: 0.45rem 1.1rem; border: none;
  border-radius: 20px; background: var(--gradient-accent);
  color: var(--accent-darkest); font-size: 0.82rem;
  font-weight: 600; cursor: pointer; transition: all 0.3s;
  font-family: var(--font-body); text-decoration: none;
  box-shadow: 0 2px 8px var(--accent-glow);
}
.nav-cta:hover { transform: translateY(-1px); background: var(--gradient-accent-hover); box-shadow: 0 4px 16px rgba(184, 212, 88, 0.4); }

/* ===== Hero ===== */
.hero {
  min-height: 100vh; display: flex; align-items: center;
  padding: 7rem 2rem 4rem;
  max-width: 1100px; margin: 0 auto;
  gap: 4rem; position: relative;
}
.hero::before {
  content: ''; position: absolute; inset: 0; z-index: -1;
  background: var(--gradient-hero);
  mask-image: linear-gradient(to bottom, black 60%, transparent);
  -webkit-mask-image: linear-gradient(to bottom, black 60%, transparent);
}
/* Hero butterfly SVG positioned via class */
.hero-butterfly-bg { position: absolute; right: -2%; top: 8%; width: 420px; opacity: 0.06; color: var(--accent-deep); pointer-events: none; z-index: 0; animation: flutter-drift 6s ease-in-out infinite; }
.hero-content { flex: 1.2; }
.hero-visual { flex: 1; display: flex; justify-content: center; }
.hero-title {
  font-size: clamp(2.8rem, 6vw, 4.2rem);
  font-weight: 800; letter-spacing: -0.04em;
  line-height: 1.35; margin-bottom: 1.5rem;
  background: linear-gradient(135deg, #1A2210 30%, #5A6B2A 70%, #B8D458);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.hero-title .unlock {
  display: inline-block;
  animation: tighten 1s cubic-bezier(0.16, 1, 0.3, 1) 0.6s both;
}
@keyframes tighten {
  from { letter-spacing: 0.15em; opacity: 0.3; }
  to { letter-spacing: -0.04em; opacity: 1; }
}
.hero-sub {
  font-size: clamp(1rem, 1.8vw, 1.12rem);
  color: var(--text-secondary); line-height: 1.75;
  max-width: 460px; margin-bottom: 2rem;
}

/* Typing demo */
.demo-line {
  display: flex; align-items: center; gap: 0.75rem;
  padding: 0.85rem 1.1rem; margin-bottom: 2rem;
  border-radius: var(--radius-sm);
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  box-shadow: var(--shadow-sm);
}
.demo-wave { display: flex; align-items: center; gap: 2px; height: 18px; flex-shrink: 0; }
.demo-wave span {
  width: 2.5px; border-radius: 2px; background: var(--accent-main);
  animation: mini-wave 0.8s ease-in-out infinite;
}
.demo-wave span:nth-child(1) { height: 6px; animation-delay: 0s; }
.demo-wave span:nth-child(2) { height: 12px; animation-delay: 0.15s; }
.demo-wave span:nth-child(3) { height: 8px; animation-delay: 0.3s; }
.demo-wave span:nth-child(4) { height: 14px; animation-delay: 0.1s; }
@keyframes mini-wave {
  0%, 100% { transform: scaleY(0.5); opacity: 0.4; }
  50% { transform: scaleY(1); opacity: 1; }
}
.demo-text { font-size: 0.95rem; color: var(--text-primary); min-height: 1.4em; }
.demo-cursor {
  display: inline-block; width: 2px; height: 1.15em;
  background: var(--accent-main); vertical-align: text-bottom;
  animation: cblink 0.7s step-end infinite;
}
@keyframes cblink { 0%,100% { opacity: 1; } 50% { opacity: 0; } }

.hero-actions { display: flex; gap: 0.75rem; flex-wrap: wrap; }
.btn-primary {
  display: inline-flex; align-items: center; gap: 0.5rem;
  padding: 0.8rem 1.8rem; border: none; border-radius: 28px;
  background: var(--gradient-accent); color: #3A4A1E;
  font-size: 0.95rem; font-weight: 600; cursor: pointer;
  transition: all 0.3s; font-family: var(--font-body);
  box-shadow: 0 4px 16px var(--accent-glow);
  text-decoration: none;
}
.btn-primary:hover {
  background: var(--gradient-accent-hover);
  box-shadow: 0 8px 28px rgba(184, 212, 88, 0.4);
  animation: wing-beat 0.4s ease;
}
@keyframes wing-beat {
  0% { transform: scaleX(1) rotate(0deg); }
  10% { transform: scaleX(0.7) rotate(-2deg); }
  20% { transform: scaleX(1.05) rotate(1deg); }
  30% { transform: scaleX(0.75) rotate(-1deg); }
  40% { transform: scaleX(1.02) rotate(0.5deg); }
  50% { transform: scaleX(0.8) rotate(-0.5deg); }
  60% { transform: scaleX(1.01) rotate(0deg); }
  75% { transform: scaleX(0.85) rotate(0deg); }
  100% { transform: scaleX(1) rotate(0deg); }
}
.btn-primary svg { stroke: #3A4A1E; }
.btn-secondary {
  display: inline-flex; align-items: center; gap: 0.5rem;
  padding: 0.8rem 1.8rem; border: 1px solid var(--border);
  border-radius: 28px; background: var(--bg-card);
  color: var(--text-primary); font-size: 0.95rem;
  font-weight: 500; cursor: pointer; transition: all 0.3s;
  font-family: var(--font-body); text-decoration: none;
  box-shadow: var(--shadow-sm);
}
.btn-secondary:hover { border-color: var(--accent-main); background: #fff; box-shadow: var(--shadow-md); }
.hero-note {
  margin-top: 1.25rem; font-size: 0.78rem;
  color: var(--text-muted); display: flex;
  align-items: center; gap: 0.4rem;
}

/* macOS Mockup */
.mac-mockup { width: 320px; border-radius: var(--radius); overflow: hidden; background: var(--bg-card); border: 1px solid var(--border-light); box-shadow: var(--shadow-lg), 0 0 0 1px rgba(0,0,0,0.02); }
.mac-titlebar { height: 36px; background: var(--bg-secondary); border-bottom: 1px solid var(--border-light); display: flex; align-items: center; padding: 0 14px; gap: 7px; }
.mac-dot { width: 11px; height: 11px; border-radius: 50%; }
.mac-dot:nth-child(1) { background: #FF6159; } .mac-dot:nth-child(2) { background: #FFC130; } .mac-dot:nth-child(3) { background: #2AC840; }
.mac-titlebar-text { flex: 1; text-align: center; font-size: 0.72rem; color: var(--text-muted); font-weight: 500; }
.mac-menubar { height: 28px; background: var(--bg-secondary); border-bottom: 1px solid var(--border-light); display: flex; align-items: center; justify-content: flex-end; padding: 0 12px; gap: 10px; }
.mac-menubar-icon { color: var(--text-muted); display: flex; } .mac-menubar-icon.active svg { color: var(--accent-deep); }
.mac-panel { padding: 20px; display: flex; flex-direction: column; align-items: center; gap: 16px; min-height: 180px; background: linear-gradient(180deg, var(--bg-card), var(--bg-secondary)); }
.mac-status { font-size: 0.8rem; color: var(--text-secondary); display: flex; align-items: center; gap: 0.5rem; }
.mac-status-dot { width: 7px; height: 7px; border-radius: 50%; background: #EF4444; animation: rec-pulse 1.5s ease-in-out infinite; }
@keyframes rec-pulse { 0%,100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.5; transform: scale(0.8); } }
.mac-waveform { width: 100%; height: 50px; } .mac-waveform svg { width: 100%; height: 100%; }
.mac-waveform path { fill: none; stroke: var(--accent-main); stroke-width: 1.5; stroke-linecap: round; opacity: 0.7; }
.mac-waveform path:last-child { stroke: var(--accent-bright); opacity: 0.3; }
.mac-hint { font-size: 0.72rem; color: var(--text-muted); display: flex; align-items: center; gap: 0.35rem; }
.mac-kbd { padding: 0.15rem 0.4rem; border-radius: 5px; background: var(--bg-secondary); border: 1px solid var(--border); font-family: var(--font-mono); font-size: 0.65rem; color: var(--text-secondary); }

/* ===== Section Divider (butterfly) ===== */
.section-divider { display: flex; align-items: center; justify-content: center; padding: 0; color: var(--accent-dark); }
.section-divider::before, .section-divider::after { content: ''; flex: 1; height: 1px; background: linear-gradient(to right, transparent, var(--border), transparent); }
.divider-butterfly { margin: 0 1rem; color: var(--accent-dark); }

/* ===== Proof Bar ===== */
.proof-bar {
  border-top: 1px solid var(--border-light);
  border-bottom: 1px solid var(--border-light);
  background: var(--bg-secondary);
  padding: 1.1rem 2rem;
}
.proof-inner {
  max-width: 1100px; margin: 0 auto;
  display: flex; align-items: center; justify-content: center;
  gap: 2.5rem; flex-wrap: wrap;
}
.proof-item {
  display: flex; align-items: center; gap: 0.5rem;
  font-size: 0.82rem; color: var(--text-secondary); font-weight: 500;
}
.proof-item svg { color: var(--accent-deep); flex-shrink: 0; }
.proof-sep { color: var(--border); font-size: 0.6rem; }

/* ===== Sections Common ===== */
.section { padding: 6rem 2rem; max-width: 1100px; margin: 0 auto; }
.section-label {
  font-size: 0.72rem; font-weight: 700;
  letter-spacing: 0.15em; text-transform: uppercase;
  color: var(--accent-dark); margin-bottom: 0.75rem;
  font-family: var(--font-mono);
  display: inline-block;
  padding: 0.3rem 0.8rem; border-radius: 20px;
  background: rgba(212, 232, 124, 0.15);
}
.section-title {
  font-size: clamp(1.8rem, 3.5vw, 2.5rem);
  font-weight: 800; letter-spacing: -0.03em;
  line-height: 1.25; margin-bottom: 0.75rem;
}
.section-desc {
  font-size: 1rem; color: var(--text-secondary);
  max-width: 520px; line-height: 1.7;
}

/* ===== How It Works ===== */
.steps-layout {
  display: flex; gap: 4rem; margin-top: 3.5rem;
  align-items: flex-start;
}
.steps-timeline { flex: 1; }
.step {
  display: flex; gap: 1.25rem; position: relative;
  padding-bottom: 2.5rem;
}
.step:last-child { padding-bottom: 0; }
.step-line {
  display: flex; flex-direction: column; align-items: center;
  gap: 0; flex-shrink: 0; width: 28px;
}
.step-dot {
  width: 12px; height: 12px; border-radius: 50%;
  border: 2.5px solid var(--accent-main); background: var(--bg);
  flex-shrink: 0; z-index: 1; transition: all 0.3s;
}
.step:hover .step-dot { background: var(--accent-bright); border-color: var(--accent-deep); }
.step-connector {
  width: 2px; flex: 1; min-height: 40px;
  background: linear-gradient(to bottom, var(--accent-bright), var(--border-light));
  border-radius: 1px;
}
.step-body { flex: 1; padding-top: 0; }
.step-num {
  font-family: var(--font-mono); font-size: 0.7rem;
  color: var(--accent-dark); margin-bottom: 0.4rem;
  letter-spacing: 0.05em; font-weight: 600;
}
.step-title { font-size: 1.05rem; font-weight: 700; margin-bottom: 0.5rem; }
.step-desc { font-size: 0.88rem; color: var(--text-secondary); line-height: 1.6; }
.kbd {
  display: inline-flex; align-items: center; justify-content: center;
  padding: 0.2rem 0.5rem; border-radius: 6px;
  background: var(--bg-secondary); border: 1px solid var(--border);
  box-shadow: 0 1px 2px rgba(74, 90, 34, 0.08);
  font-family: var(--font-mono); font-size: 0.75rem;
  color: var(--text-primary); white-space: nowrap;
}

/* Steps demo window */
.steps-demo { flex: 1; position: sticky; top: 8rem; }
.demo-window {
  border-radius: var(--radius); overflow: hidden;
  background: var(--bg-card); border: 1px solid var(--border-light);
  box-shadow: var(--shadow-md);
}
.demo-window-bar {
  height: 36px; background: var(--bg-secondary);
  border-bottom: 1px solid var(--border-light);
  display: flex; align-items: center; padding: 0 14px; gap: 7px;
}
.demo-window-dot { width: 10px; height: 10px; border-radius: 50%; }
.demo-window-dot:nth-child(1) { background: #FF6159; }
.demo-window-dot:nth-child(2) { background: #FFC130; }
.demo-window-dot:nth-child(3) { background: #2AC840; }
.demo-window-body {
  padding: 24px; min-height: 220px;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center; gap: 16px;
  background: linear-gradient(180deg, #fff, var(--bg-secondary));
}

/* ===== Privacy Statement ===== */
.privacy-section { padding: 5rem 2rem; text-align: center; position: relative; overflow: hidden; background: linear-gradient(160deg, #E4ECC8 0%, #F0F5E4 40%, #E8F0D0 100%); }
.privacy-section::before { content: ''; position: absolute; inset: 0; background: radial-gradient(circle at 30% 50%, rgba(212,232,124,0.2), transparent 50%), radial-gradient(circle at 70% 50%, rgba(138,174,58,0.15), transparent 50%); }
.privacy-main { font-size: clamp(1.5rem, 3vw, 2.2rem); font-weight: 800; letter-spacing: -0.02em; line-height: 1.5; margin-bottom: 0.5rem; position: relative; }
.privacy-forever { display: block; font-size: clamp(2rem, 4vw, 3rem); background: var(--gradient-accent); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-top: 0.25rem; font-weight: 800; }
.privacy-sub { margin-top: 1.5rem; font-size: 0.85rem; color: var(--text-muted); letter-spacing: 0.05em; position: relative; }

/* ===== Features Bento ===== */
.bento-grid {
  display: grid; margin-top: 3.5rem; gap: 1rem;
  grid-template-columns: 1.2fr 1fr;
  grid-template-rows: auto auto;
}
.bento-card {
  padding: 2rem; border-radius: var(--radius);
  background: var(--bg-card);
  border: 1px solid var(--border-light);
  transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  box-shadow: var(--shadow-sm);
}
.bento-card:hover {
  box-shadow: var(--shadow-lg);
  transform: translateY(-3px);
  border-color: var(--accent-bright);
}
.bento-card.large { grid-row: span 2; }
.bento-icon {
  width: 42px; height: 42px; border-radius: 50% 50% 50% 20%;
  background: linear-gradient(135deg, rgba(212,232,124,0.2), rgba(138,174,58,0.15));
  display: flex; align-items: center; justify-content: center;
  color: var(--accent-dark); margin-bottom: 1.25rem;
}
.bento-title { font-size: 1.05rem; font-weight: 700; margin-bottom: 0.5rem; }
.bento-desc { font-size: 0.88rem; color: var(--text-secondary); line-height: 1.65; }
.bento-visual {
  margin-top: 1.5rem; padding: 1.25rem; border-radius: var(--radius-sm);
  background: var(--bg-secondary); border: 1px solid var(--border-light);
  display: flex; align-items: center; justify-content: center;
}

/* ===== Tech Specs Terminal ===== */
.terminal { margin-top: 3.5rem; border-radius: var(--radius); overflow: hidden; background: #1A2412; border: 1px solid rgba(255,255,255,0.08); max-width: 620px; box-shadow: var(--shadow-lg); }
.terminal-bar { height: 40px; background: #242E1A; border-bottom: 1px solid rgba(255,255,255,0.06); display: flex; align-items: center; padding: 0 16px; gap: 8px; }
.terminal-dot { width: 12px; height: 12px; border-radius: 50%; }
.terminal-dot:nth-child(1) { background: #FF6159; } .terminal-dot:nth-child(2) { background: #FFC130; } .terminal-dot:nth-child(3) { background: #2AC840; }
.terminal-title { flex: 1; text-align: center; font-size: 0.72rem; color: #888; font-family: var(--font-mono); }
.terminal-body { padding: 1.5rem; font-family: var(--font-mono); font-size: 0.82rem; line-height: 1.9; color: #E0E0E0; }
.terminal-prompt { color: var(--accent-main); } .terminal-cmd { color: #E0E0E0; }
.terminal-line { opacity: 0; transition: opacity 0.3s; } .terminal-line.visible { opacity: 1; }
.terminal-key { color: var(--accent-bright); display: inline-block; min-width: 100px; } .terminal-val { color: #AAA; }
.terminal-cursor { display: inline-block; width: 8px; height: 1em; background: var(--accent-main); animation: cblink 0.7s step-end infinite; vertical-align: text-bottom; }

/* ===== FAQ ===== */
.faq-list { margin-top: 3rem; max-width: 680px; } .faq-item { border-bottom: 1px solid var(--border-light); }
.faq-q { width: 100%; padding: 1.25rem 0; background: none; border: none; color: var(--text-primary); font-size: 0.95rem; font-weight: 600; text-align: left; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-family: var(--font-body); transition: color 0.3s; }
.faq-q:hover { color: var(--accent-dark); }
.faq-arrow { transition: transform 0.3s; color: var(--text-muted); flex-shrink: 0; }
.faq-item.open .faq-arrow { transform: rotate(90deg); color: var(--accent-deep); }
.faq-a { max-height: 0; overflow: hidden; transition: max-height 0.5s cubic-bezier(0.33, 1, 0.68, 1), padding 0.4s cubic-bezier(0.33, 1, 0.68, 1); padding: 0; }
.faq-item.open .faq-a { max-height: 200px; padding-bottom: 1.25rem; }
.faq-a-inner { font-size: 0.88rem; color: var(--text-secondary); line-height: 1.7; }

/* ===== CTA ===== */
.cta { text-align: center; padding: 6rem 2rem; max-width: 700px; margin: 0 auto; position: relative; }
.cta::before { content: ''; position: absolute; top: 0; left: 10%; right: 10%; height: 1px; background: linear-gradient(90deg, transparent, var(--accent-bright), var(--accent-deep), var(--accent-bright), transparent); }
.cta-tagline { font-size: clamp(1.1rem, 2vw, 1.4rem); font-weight: 600; letter-spacing: 0.02em; color: var(--text-secondary); margin-bottom: 2rem; display: flex; align-items: center; justify-content: center; gap: 0.75rem; }
.cta-butterfly { display: inline-block; color: var(--accent-dark); opacity: 0.4; animation: wing-beat-gentle 3s ease-in-out infinite; transform-origin: center center; }
.cta-actions { display: flex; gap: 0.75rem; justify-content: center; flex-wrap: wrap; }
.cta-note { margin-top: 1.25rem; font-size: 0.78rem; color: var(--text-muted); }

/* ===== Butterfly Animations ===== */
@keyframes flutter {
  0% { transform: perspective(800px) rotateY(0) rotateX(2deg) scale(1); opacity:.06; }
  15% { transform: perspective(800px) rotateY(12deg) rotateX(-1deg) scale(1.01); opacity:.07; }
  30% { transform: perspective(800px) rotateY(-5deg) rotateX(3deg) scale(.99); opacity:.055; }
  50% { transform: perspective(800px) rotateY(8deg) rotateX(-2deg) scale(1.02); opacity:.075; }
  65% { transform: perspective(800px) rotateY(-10deg) rotateX(1deg) scale(1); opacity:.06; }
  80% { transform: perspective(800px) rotateY(5deg) rotateX(-1deg) scale(1.01); opacity:.065; }
  100% { transform: perspective(800px) rotateY(0) rotateX(2deg) scale(1); opacity:.06; }
}
@keyframes flutter-drift {
  0% { transform: perspective(600px) rotateY(0) translateY(0) translateX(0); opacity:.06; }
  20% { transform: perspective(600px) rotateY(15deg) translateY(-4px) translateX(2px); opacity:.07; }
  40% { transform: perspective(600px) rotateY(-8deg) translateY(-2px) translateX(-1px); opacity:.055; }
  60% { transform: perspective(600px) rotateY(10deg) translateY(-6px) translateX(3px); opacity:.075; }
  80% { transform: perspective(600px) rotateY(-12deg) translateY(-1px) translateX(-2px); opacity:.06; }
  100% { transform: perspective(600px) rotateY(0) translateY(0) translateX(0); opacity:.06; }
}
@keyframes wing-beat-gentle {
  0%,100% { transform: scaleX(1); } 25% { transform: scaleX(.88); } 50% { transform: scaleX(1); } 75% { transform: scaleX(.92); }
}
.priv-butterfly { animation: flutter 4s ease-in-out infinite; transform-origin: center center; }
.priv-butterfly:nth-child(2) { animation-duration: 5s; animation-delay: -1.2s; }
.priv-butterfly:nth-child(3) { animation-duration: 6s; animation-delay: -2.8s; }
.cta:hover .cta-butterfly { animation: wing-beat .8s ease-out; }

/* ===== Footer ===== */
footer { border-top: 1px solid var(--border-light); padding: 2rem; background: var(--bg-secondary); }
.footer-inner { max-width: 1100px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; }
.footer-brand { font-size: 1rem; font-weight: 800; color: var(--text-muted); }
.footer-copy { font-size: 0.75rem; color: var(--text-muted); }
.footer-links { display: flex; gap: 1.25rem; }
.footer-links a { font-size: 0.78rem; color: var(--text-muted); text-decoration: none; transition: color 0.3s; }
.footer-links a:hover { color: var(--accent-dark); }

/* ===== Reveal ===== */
.reveal { opacity: 0; transform: translateY(16px); transition: opacity .6s cubic-bezier(.16,1,.3,1), transform .6s cubic-bezier(.16,1,.3,1); }
.reveal.visible { opacity: 1; transform: translateY(0); }
.rd1 { transition-delay: .08s; } .rd2 { transition-delay: .16s; } .rd3 { transition-delay: .24s; } .rd4 { transition-delay: .32s; }

/* ===== Responsive ===== */
@media (max-width: 768px) {
  nav { padding: .85rem 1.25rem; }
  .nav-link { display: none; }
  .hero { flex-direction: column; gap: 2.5rem; padding: 5.5rem 1.5rem 3rem; min-height: auto; }
  .hero-visual, .hero-butterfly-bg, .priv-butterfly { display: none; }
  .hero-title { font-size: clamp(2.2rem, 8vw, 3rem); }
  .steps-layout { flex-direction: column; gap: 2rem; }
  .steps-demo { position: static; }
  .bento-grid { grid-template-columns: 1fr; } .bento-card.large { grid-row: span 1; }
  .proof-inner { gap: .75rem; } .proof-sep { display: none; }
  .footer-inner { flex-direction: column; gap: .75rem; text-align: center; }
  .cta-tagline { flex-wrap: wrap; }
}
@media (prefers-reduced-motion: reduce) {
  .reveal { opacity: 1; transform: none; transition: none; }
  .demo-wave span, .mac-status-dot { animation: none; }
  .demo-cursor, .terminal-cursor { animation: none; opacity: 1; }
  .hero-butterfly-bg, .priv-butterfly, .cta-butterfly { animation: none !important; }
}
</style>
</head>
<body>

<!-- Shared SVG defs for butterfly clipPaths -->
<svg style="position:absolute;width:0;height:0;overflow:hidden;" aria-hidden="true">
  <defs>
    <clipPath id="hero-lw"><path d="M80 40 C72 20,50 4,28 8 C12 11,2 26,6 42 C9 54,20 60,36 58 C44 57,52 54,58 50 L72 56 C66 62,54 72,42 80 C30 88,16 92,10 100 C6 106,12 114,22 112 C36 108,54 96,66 80 L76 66 L80 60Z"/></clipPath>
    <clipPath id="hero-rw"><path d="M80 40 C88 20,110 4,132 8 C148 11,158 26,154 42 C151 54,140 60,124 58 C116 57,108 54,102 50 L88 56 C94 62,106 72,118 80 C130 88,144 92,150 100 C154 106,148 114,138 112 C124 108,106 96,94 80 L84 66 L80 60Z"/></clipPath>
    <clipPath id="priv-lw"><path d="M30 16 C27 8,18 2,10 4 C4 5,1 12,3 18 C4 22,9 24,15 23 L26 22 C22 26,16 32,10 36 C6 39,4 43,8 44 C14 43,22 38,28 30 L30 24Z"/></clipPath>
    <clipPath id="priv-rw"><path d="M30 16 C33 8,42 2,50 4 C56 5,59 12,57 18 C56 22,51 24,45 23 L34 22 C38 26,44 32,50 36 C54 39,56 43,52 44 C46 43,38 38,32 30 L30 24Z"/></clipPath>
    <clipPath id="sm-lw"><path d="M12 6 C10.5 3,7 0.5,4 1.5 C1.5 2.5,0.5 5,1.5 7.5 C2 9,4 10,7 9.5 L10.5 9 C8.5 11,6 13.5,3.5 15 C2 16,2 17.5,3.5 17 C6 16,9 13,11 10 L12 8.5Z"/></clipPath>
    <clipPath id="sm-rw"><path d="M12 6 C13.5 3,17 0.5,20 1.5 C22.5 2.5,23.5 5,22.5 7.5 C22 9,20 10,17 9.5 L13.5 9 C15.5 11,18 13.5,20.5 15 C22 16,22 17.5,20.5 17 C18 16,15 13,13 10 L12 8.5Z"/></clipPath>
  </defs>
</svg>

<!-- Nav -->
<nav id="navbar">
  <a class="nav-brand" href="#">VowKy</a>
  <div class="nav-right">
    <div class="lang-switch">
      <button class="lang-btn active" data-lang="zh" onclick="switchLang('zh')">中文</button>
      <button class="lang-btn" data-lang="en" onclick="switchLang('en')">EN</button>
    </div>
    <a class="nav-link" href="https://github.com/KF330330/vowky" target="_blank" data-umami-event="github_click" data-umami-event-location="nav">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
      GitHub
    </a>
    <a class="nav-cta" href="/downloads/VowKy-latest.dmg" data-i18n="nav.download" data-umami-event="download_click" data-umami-event-location="nav">下载</a>
  </div>
</nav>

<!-- Hero -->
<section class="hero">
  <!-- Hero butterfly decoration (large, background) -->
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 160 120" fill="currentColor" aria-hidden="true" class="hero-butterfly-bg">
    <path d="M80 40 C72 20,50 4,28 8 C12 11,2 26,6 42 C9 54,20 60,36 58 C44 57,52 54,58 50 L72 56 C66 62,54 72,42 80 C30 88,16 92,10 100 C6 106,12 114,22 112 C36 108,54 96,66 80 L76 66 L80 60Z" opacity="0.12"/>
    <path d="M80 40 C88 20,110 4,132 8 C148 11,158 26,154 42 C151 54,140 60,124 58 C116 57,108 54,102 50 L88 56 C94 62,106 72,118 80 C130 88,144 92,150 100 C154 106,148 114,138 112 C124 108,106 96,94 80 L84 66 L80 60Z" opacity="0.12"/>
    <g clip-path="url(#hero-lw)">
      <rect x="16" y="24" width="4" height="72" rx="2" opacity="0.7"/><rect x="26" y="16" width="4" height="88" rx="2" opacity="0.8"/><rect x="36" y="10" width="4" height="98" rx="2" opacity="0.85"/><rect x="46" y="6" width="4" height="106" rx="2" opacity="0.95"/><rect x="56" y="12" width="4" height="96" rx="2" opacity="0.9"/><rect x="66" y="20" width="4" height="80" rx="2" opacity="0.8"/><rect x="74" y="30" width="3" height="58" rx="1.5" opacity="0.65"/>
    </g>
    <g clip-path="url(#hero-rw)">
      <rect x="83" y="30" width="3" height="58" rx="1.5" opacity="0.65"/><rect x="90" y="20" width="4" height="80" rx="2" opacity="0.8"/><rect x="100" y="12" width="4" height="96" rx="2" opacity="0.9"/><rect x="110" y="6" width="4" height="106" rx="2" opacity="0.95"/><rect x="120" y="10" width="4" height="98" rx="2" opacity="0.85"/><rect x="130" y="16" width="4" height="88" rx="2" opacity="0.8"/><rect x="140" y="24" width="4" height="72" rx="2" opacity="0.7"/>
    </g>
    <rect x="78.5" y="34" width="3" height="46" rx="1.5"/>
    <circle cx="80" cy="32" r="3"/>
    <path d="M80 32 C76 22,68 14,62 10" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
    <path d="M80 32 C84 22,92 14,98 10" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
    <circle cx="62" cy="10" r="2"/><circle cx="98" cy="10" r="2"/>
  </svg>

  <div class="hero-content">
    <h1 class="hero-title">
      <span data-i18n="hero.t1">你的声音，</span><br>
      <span class="unlock" data-i18n="hero.t2">解锁文字。</span>
    </h1>
    <p class="hero-sub" data-i18n="hero.sub">按下 ⌥ Space，说话，文字直达光标位置。完全离线识别，隐私无忧。</p>

    <div class="demo-line">
      <div class="demo-wave"><span></span><span></span><span></span><span></span></div>
      <div class="demo-text" id="demoText"><span class="demo-cursor"></span></div>
    </div>

    <div class="hero-actions">
      <a class="btn-primary" href="/downloads/VowKy-latest.dmg" data-i18n="hero.dl" data-umami-event="download_click" data-umami-event-location="hero">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
        免费下载
      </a>
      <a class="btn-secondary" href="https://github.com/KF330330/vowky" target="_blank" data-i18n="hero.src" data-umami-event="github_click" data-umami-event-location="hero">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
        查看源码
      </a>
    </div>
    <p class="hero-note">
      <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
      <span data-i18n="hero.note">macOS 13.0+ · 完全免费 · 开源</span>
    </p>
  </div>

  <div class="hero-visual">
    <div class="mac-mockup">
      <div class="mac-titlebar">
        <div class="mac-dot"></div><div class="mac-dot"></div><div class="mac-dot"></div>
        <span class="mac-titlebar-text">VowKy</span>
      </div>
      <div class="mac-menubar">
        <div class="mac-menubar-icon">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"/><polyline points="17 2 12 7 7 2"/></svg>
        </div>
        <div class="mac-menubar-icon active">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="22"/></svg>
        </div>
        <div class="mac-menubar-icon">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
        </div>
      </div>
      <div class="mac-panel">
        <div class="mac-status">
          <div class="mac-status-dot"></div>
          <span data-i18n="mock.status">正在录音...</span>
        </div>
        <div class="mac-waveform">
          <svg viewBox="0 0 280 50" preserveAspectRatio="none">
            <path id="wavePath1" d="M0,25 L280,25"/>
            <path id="wavePath2" d="M0,25 L280,25"/>
          </svg>
        </div>
        <div class="mac-hint">
          <span data-i18n="mock.hint">再次按下</span>
          <span class="mac-kbd">⌥</span><span class="mac-kbd">Space</span>
          <span data-i18n="mock.hint2">结束录音</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Divider before Proof Bar -->
<div class="section-divider">
  <svg class="divider-butterfly" width="28" height="18" viewBox="0 0 24 18" fill="currentColor" aria-hidden="true" style="opacity:0.5;color:var(--accent-main);">
    <path d="M12 6 C10.5 3,7 0.5,4 1.5 C1.5 2.5,0.5 5,1.5 7.5 C2 9,4 10,7 9.5 L10.5 9 C8.5 11,6 13.5,3.5 15 C2 16,2 17.5,3.5 17 C6 16,9 13,11 10 L12 8.5Z" opacity="0.1"/>
    <path d="M12 6 C13.5 3,17 0.5,20 1.5 C22.5 2.5,23.5 5,22.5 7.5 C22 9,20 10,17 9.5 L13.5 9 C15.5 11,18 13.5,20.5 15 C22 16,22 17.5,20.5 17 C18 16,15 13,13 10 L12 8.5Z" opacity="0.1"/>
    <g clip-path="url(#sm-lw)"><rect x="3.5" y="3" width="1.2" height="12" rx="0.6" opacity="0.8"/><rect x="6.5" y="1.5" width="1.2" height="15" rx="0.6"/><rect x="9.5" y="4" width="1" height="10" rx="0.5" opacity="0.75"/></g>
    <g clip-path="url(#sm-rw)"><rect x="13.5" y="4" width="1" height="10" rx="0.5" opacity="0.75"/><rect x="16.3" y="1.5" width="1.2" height="15" rx="0.6"/><rect x="19.3" y="3" width="1.2" height="12" rx="0.6" opacity="0.8"/></g>
    <rect x="11.5" y="5.5" width="1" height="8" rx="0.5"/><circle cx="12" cy="5" r="1"/>
  </svg>
</div>

<!-- Proof Bar -->
<div class="proof-bar">
  <div class="proof-inner">
    <div class="proof-item">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
      <span data-i18n="proof.1">100% 离线</span>
    </div>
    <span class="proof-sep">·</span>
    <div class="proof-item">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
      <span data-i18n="proof.2">开源代码</span>
    </div>
    <span class="proof-sep">·</span>
    <div class="proof-item">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
      <span data-i18n="proof.3">macOS 原生</span>
    </div>
    <span class="proof-sep">·</span>
    <div class="proof-item">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
      <span data-i18n="proof.4">&lt; 50MB</span>
    </div>
  </div>
</div>

<!-- How It Works -->
<section class="section" id="how">
  <span class="section-label reveal" data-i18n="how.label">HOW IT WORKS</span>
  <h2 class="section-title reveal" data-i18n="how.title">三步，仅此而已</h2>
  <p class="section-desc reveal" data-i18n="how.desc">没有复杂的设置，没有账号注册。安装即用。</p>

  <div class="steps-layout">
    <div class="steps-timeline">
      <div class="step reveal rd1">
        <div class="step-line"><div class="step-dot"></div><div class="step-connector"></div></div>
        <div class="step-body">
          <div class="step-num">STEP 01</div>
          <h3 class="step-title" data-i18n="s1.title">按下快捷键</h3>
          <p class="step-desc">
            <span data-i18n="s1.desc">在任何应用中按下</span>
            <span class="kbd">⌥ Option</span> + <span class="kbd">Space</span>
          </p>
        </div>
      </div>
      <div class="step reveal rd2">
        <div class="step-line"><div class="step-dot"></div><div class="step-connector"></div></div>
        <div class="step-body">
          <div class="step-num">STEP 02</div>
          <h3 class="step-title" data-i18n="s2.title">说话</h3>
          <p class="step-desc" data-i18n="s2.desc">用自然语速说出内容，VowKy 实时聆听并识别。</p>
        </div>
      </div>
      <div class="step reveal rd3">
        <div class="step-line"><div class="step-dot"></div></div>
        <div class="step-body">
          <div class="step-num">STEP 03</div>
          <h3 class="step-title" data-i18n="s3.title">文字直达光标</h3>
          <p class="step-desc" data-i18n="s3.desc">再次按下快捷键，识别完成的文字直接输入到光标位置。不经剪贴板。</p>
        </div>
      </div>
    </div>

    <div class="steps-demo reveal rd2">
      <div class="demo-window">
        <div class="demo-window-bar">
          <div class="demo-window-dot"></div>
          <div class="demo-window-dot"></div>
          <div class="demo-window-dot"></div>
        </div>
        <div class="demo-window-body">
          <svg id="demoWave" width="200" height="60" viewBox="0 0 200 60">
            <path fill="none" stroke="var(--accent-main)" stroke-width="1.5" stroke-linecap="round" opacity="0.6" id="demoWavePath"/>
          </svg>
          <div style="font-size:0.8rem; color:var(--text-muted); text-align:center;" data-i18n="demo.hint">声波可视化演示</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Divider before Privacy -->
<div class="section-divider">
  <svg class="divider-butterfly" width="28" height="18" viewBox="0 0 24 18" fill="currentColor" aria-hidden="true" style="opacity:0.5;color:var(--accent-main);">
    <path d="M12 6 C10.5 3,7 0.5,4 1.5 C1.5 2.5,0.5 5,1.5 7.5 C2 9,4 10,7 9.5 L10.5 9 C8.5 11,6 13.5,3.5 15 C2 16,2 17.5,3.5 17 C6 16,9 13,11 10 L12 8.5Z" opacity="0.1"/>
    <path d="M12 6 C13.5 3,17 0.5,20 1.5 C22.5 2.5,23.5 5,22.5 7.5 C22 9,20 10,17 9.5 L13.5 9 C15.5 11,18 13.5,20.5 15 C22 16,22 17.5,20.5 17 C18 16,15 13,13 10 L12 8.5Z" opacity="0.1"/>
    <g clip-path="url(#sm-lw)"><rect x="3.5" y="3" width="1.2" height="12" rx="0.6" opacity="0.8"/><rect x="6.5" y="1.5" width="1.2" height="15" rx="0.6"/><rect x="9.5" y="4" width="1" height="10" rx="0.5" opacity="0.75"/></g>
    <g clip-path="url(#sm-rw)"><rect x="13.5" y="4" width="1" height="10" rx="0.5" opacity="0.75"/><rect x="16.3" y="1.5" width="1.2" height="15" rx="0.6"/><rect x="19.3" y="3" width="1.2" height="12" rx="0.6" opacity="0.8"/></g>
    <rect x="11.5" y="5.5" width="1" height="8" rx="0.5"/><circle cx="12" cy="5" r="1"/>
  </svg>
</div>

<!-- Privacy Statement -->
<div class="privacy-section">
  <!-- Privacy butterfly decorations (3 medium butterflies) -->
  <svg class="priv-butterfly" viewBox="0 0 60 46" fill="currentColor" aria-hidden="true" style="position:absolute;left:5%;top:10%;width:140px;opacity:0.04;color:var(--accent-deep);transform:rotate(-15deg);pointer-events:none;z-index:0;">
    <path d="M30 16 C27 8,18 2,10 4 C4 5,1 12,3 18 C4 22,9 24,15 23 L26 22 C22 26,16 32,10 36 C6 39,4 43,8 44 C14 43,22 38,28 30 L30 24Z" opacity="0.1"/>
    <path d="M30 16 C33 8,42 2,50 4 C56 5,59 12,57 18 C56 22,51 24,45 23 L34 22 C38 26,44 32,50 36 C54 39,56 43,52 44 C46 43,38 38,32 30 L30 24Z" opacity="0.1"/>
    <g clip-path="url(#priv-lw)"><rect x="7" y="8" width="2" height="30" rx="1" opacity="0.8"/><rect x="13" y="5" width="2" height="36" rx="1" opacity="0.9"/><rect x="19" y="3" width="2" height="40" rx="1"/><rect x="24" y="7" width="2" height="32" rx="1" opacity="0.85"/><rect x="28" y="12" width="1.5" height="22" rx="0.75" opacity="0.7"/></g>
    <g clip-path="url(#priv-rw)"><rect x="30.5" y="12" width="1.5" height="22" rx="0.75" opacity="0.7"/><rect x="34" y="7" width="2" height="32" rx="1" opacity="0.85"/><rect x="39" y="3" width="2" height="40" rx="1"/><rect x="45" y="5" width="2" height="36" rx="1" opacity="0.9"/><rect x="51" y="8" width="2" height="30" rx="1" opacity="0.8"/></g>
    <rect x="29.25" y="14" width="1.5" height="18" rx="0.75"/><circle cx="30" cy="13" r="1.5"/>
    <path d="M30 13 C28 8,24 5,22 3" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round"/><path d="M30 13 C32 8,36 5,38 3" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round"/>
    <circle cx="22" cy="3" r="1"/><circle cx="38" cy="3" r="1"/>
  </svg>
  <svg class="priv-butterfly" viewBox="0 0 60 46" fill="currentColor" aria-hidden="true" style="position:absolute;right:8%;top:30%;width:100px;opacity:0.035;color:var(--accent-dark);transform:rotate(12deg);pointer-events:none;z-index:0;">
    <path d="M30 16 C27 8,18 2,10 4 C4 5,1 12,3 18 C4 22,9 24,15 23 L26 22 C22 26,16 32,10 36 C6 39,4 43,8 44 C14 43,22 38,28 30 L30 24Z" opacity="0.1"/>
    <path d="M30 16 C33 8,42 2,50 4 C56 5,59 12,57 18 C56 22,51 24,45 23 L34 22 C38 26,44 32,50 36 C54 39,56 43,52 44 C46 43,38 38,32 30 L30 24Z" opacity="0.1"/>
    <g clip-path="url(#priv-lw)"><rect x="7" y="8" width="2" height="30" rx="1" opacity="0.8"/><rect x="13" y="5" width="2" height="36" rx="1" opacity="0.9"/><rect x="19" y="3" width="2" height="40" rx="1"/><rect x="24" y="7" width="2" height="32" rx="1" opacity="0.85"/><rect x="28" y="12" width="1.5" height="22" rx="0.75" opacity="0.7"/></g>
    <g clip-path="url(#priv-rw)"><rect x="30.5" y="12" width="1.5" height="22" rx="0.75" opacity="0.7"/><rect x="34" y="7" width="2" height="32" rx="1" opacity="0.85"/><rect x="39" y="3" width="2" height="40" rx="1"/><rect x="45" y="5" width="2" height="36" rx="1" opacity="0.9"/><rect x="51" y="8" width="2" height="30" rx="1" opacity="0.8"/></g>
    <rect x="29.25" y="14" width="1.5" height="18" rx="0.75"/><circle cx="30" cy="13" r="1.5"/>
    <path d="M30 13 C28 8,24 5,22 3" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round"/><path d="M30 13 C32 8,36 5,38 3" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round"/>
    <circle cx="22" cy="3" r="1"/><circle cx="38" cy="3" r="1"/>
  </svg>
  <svg class="priv-butterfly" viewBox="0 0 60 46" fill="currentColor" aria-hidden="true" style="position:absolute;left:18%;bottom:8%;width:70px;opacity:0.03;color:var(--accent-deep);transform:rotate(-8deg) scaleX(-1);pointer-events:none;z-index:0;">
    <path d="M30 16 C27 8,18 2,10 4 C4 5,1 12,3 18 C4 22,9 24,15 23 L26 22 C22 26,16 32,10 36 C6 39,4 43,8 44 C14 43,22 38,28 30 L30 24Z" opacity="0.1"/>
    <path d="M30 16 C33 8,42 2,50 4 C56 5,59 12,57 18 C56 22,51 24,45 23 L34 22 C38 26,44 32,50 36 C54 39,56 43,52 44 C46 43,38 38,32 30 L30 24Z" opacity="0.1"/>
    <g clip-path="url(#priv-lw)"><rect x="7" y="8" width="2" height="30" rx="1" opacity="0.8"/><rect x="13" y="5" width="2" height="36" rx="1" opacity="0.9"/><rect x="19" y="3" width="2" height="40" rx="1"/><rect x="24" y="7" width="2" height="32" rx="1" opacity="0.85"/><rect x="28" y="12" width="1.5" height="22" rx="0.75" opacity="0.7"/></g>
    <g clip-path="url(#priv-rw)"><rect x="30.5" y="12" width="1.5" height="22" rx="0.75" opacity="0.7"/><rect x="34" y="7" width="2" height="32" rx="1" opacity="0.85"/><rect x="39" y="3" width="2" height="40" rx="1"/><rect x="45" y="5" width="2" height="36" rx="1" opacity="0.9"/><rect x="51" y="8" width="2" height="30" rx="1" opacity="0.8"/></g>
    <rect x="29.25" y="14" width="1.5" height="18" rx="0.75"/><circle cx="30" cy="13" r="1.5"/>
    <path d="M30 13 C28 8,24 5,22 3" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round"/><path d="M30 13 C32 8,36 5,38 3" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round"/>
    <circle cx="22" cy="3" r="1"/><circle cx="38" cy="3" r="1"/>
  </svg>

  <p class="privacy-main reveal">
    <span data-i18n="priv.main">你的声音永远不会离开你的 Mac。</span>
    <span class="privacy-forever reveal rd1" data-i18n="priv.forever">永远。</span>
  </p>
  <p class="privacy-sub reveal rd2" data-i18n="priv.sub">零网络请求 · 零云端处理 · 零数据上传</p>
</div>

<!-- Features -->
<section class="section" id="features">
  <span class="section-label reveal" data-i18n="feat.label">FEATURES</span>
  <h2 class="section-title reveal" data-i18n="feat.title">为隐私而生</h2>
  <p class="section-desc reveal" data-i18n="feat.desc">所有语音处理都在你的 Mac 上完成。</p>

  <div class="bento-grid">
    <div class="bento-card large reveal rd1">
      <div class="bento-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="m9 12 2 2 4-4"/></svg>
      </div>
      <h3 class="bento-title" data-i18n="f1.title">完全离线</h3>
      <p class="bento-desc" data-i18n="f1.desc">基于 Sherpa-ONNX 引擎，语音识别完全在本地运行。断网能用，飞行模式也能用。你的声音数据从不离开这台电脑。</p>
      <div class="bento-visual">
        <div style="display:flex; align-items:center; gap:1.5rem; color:var(--text-muted); font-size:0.8rem; font-family:var(--font-mono);">
          <div style="display:flex; flex-direction:column; align-items:center; gap:0.3rem;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent-deep)" stroke-width="1.5" stroke-linecap="round"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/></svg>
            <span data-i18n="f1.v1">语音</span>
          </div>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent-main)" stroke-width="1.5"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
          <div style="display:flex; flex-direction:column; align-items:center; gap:0.3rem;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent-deep)" stroke-width="1.5" stroke-linecap="round"><rect x="4" y="4" width="16" height="16" rx="2"/><path d="M9 9h6v6H9z"/></svg>
            <span data-i18n="f1.v2">本地 AI</span>
          </div>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent-main)" stroke-width="1.5"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
          <div style="display:flex; flex-direction:column; align-items:center; gap:0.3rem;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent-deep)" stroke-width="1.5" stroke-linecap="round"><path d="M4 7V4h16v3"/><path d="M9 20h6"/><path d="M12 4v16"/></svg>
            <span data-i18n="f1.v3">文字</span>
          </div>
        </div>
      </div>
    </div>

    <div class="bento-card reveal rd2">
      <div class="bento-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
      </div>
      <h3 class="bento-title" data-i18n="f2.title">全局输入</h3>
      <p class="bento-desc" data-i18n="f2.desc">在任何应用的任何输入框中使用。浏览器、编辑器、聊天软件——无处不在。</p>
    </div>

    <div class="bento-card reveal rd3">
      <div class="bento-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
      </div>
      <h3 class="bento-title" data-i18n="f3.title">即时响应</h3>
      <p class="bento-desc" data-i18n="f3.desc">本地推理，毫秒级响应。自动补全标点符号。</p>
    </div>

    <div class="bento-card reveal rd1">
      <div class="bento-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M8 3H5a2 2 0 0 0-2 2v3"/><path d="M21 8V5a2 2 0 0 0-2-2h-3"/><path d="M3 16v3a2 2 0 0 0 2 2h3"/><path d="M16 21h3a2 2 0 0 0 2-2v-3"/></svg>
      </div>
      <h3 class="bento-title" data-i18n="f4.title">极简设计</h3>
      <p class="bento-desc" data-i18n="f4.desc">菜单栏常驻，不占 Dock。自定义快捷键，Escape 随时取消。历史记录可查。</p>
    </div>
  </div>
</section>

<!-- Tech Specs -->
<section class="section" id="specs">
  <span class="section-label reveal" data-i18n="spec.label">UNDER THE HOOD</span>
  <h2 class="section-title reveal" data-i18n="spec.title">引擎盖之下</h2>

  <div class="terminal reveal rd1" id="terminal">
    <div class="terminal-bar">
      <div class="terminal-dot"></div>
      <div class="terminal-dot"></div>
      <div class="terminal-dot"></div>
      <span class="terminal-title">vowky --info</span>
    </div>
    <div class="terminal-body">
      <div><span class="terminal-prompt">$</span> <span class="terminal-cmd">vowky --info</span></div>
      <br>
      <div class="terminal-line" data-idx="0"><span class="terminal-key">engine</span> <span class="terminal-val">Sherpa-ONNX Paraformer</span></div>
      <div class="terminal-line" data-idx="1"><span class="terminal-key">punct</span> <span class="terminal-val">CT-Transformer</span></div>
      <div class="terminal-line" data-idx="2"><span class="terminal-key">audio</span> <span class="terminal-val">AVAudioEngine · 16kHz mono Float32</span></div>
      <div class="terminal-line" data-idx="3"><span class="terminal-key" data-i18n="spec.output">output</span> <span class="terminal-val" data-i18n="spec.output.v">CGEvent 键盘模拟（非剪贴板）</span></div>
      <div class="terminal-line" data-idx="4"><span class="terminal-key">storage</span> <span class="terminal-val">SQLite3</span></div>
      <div class="terminal-line" data-idx="5"><span class="terminal-key">requires</span> <span class="terminal-val">macOS 13.0 Ventura+</span></div>
      <div class="terminal-line" data-idx="6"><span class="terminal-key" data-i18n="spec.privacy">privacy</span> <span class="terminal-val" data-i18n="spec.privacy.v">100% 本地处理</span></div>
      <br>
      <div class="terminal-line" data-idx="7"><span class="terminal-cursor"></span></div>
    </div>
  </div>
</section>

<!-- FAQ -->
<section class="section" id="faq">
  <span class="section-label reveal" data-i18n="faq.label">FAQ</span>
  <h2 class="section-title reveal" data-i18n="faq.title">常见问题</h2>

  <div class="faq-list">
    <div class="faq-item reveal rd1">
      <button class="faq-q" onclick="toggleFaq(this)">
        <span data-i18n="q1.q">VowKy 支持哪些语言？</span>
        <svg class="faq-arrow" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
      </button>
      <div class="faq-a"><p class="faq-a-inner" data-i18n="q1.a">目前支持中文普通话识别，基于 Paraformer 模型。未来将支持更多语言。</p></div>
    </div>
    <div class="faq-item reveal rd2">
      <button class="faq-q" onclick="toggleFaq(this)">
        <span data-i18n="q2.q">需要联网吗？</span>
        <svg class="faq-arrow" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
      </button>
      <div class="faq-a"><p class="faq-a-inner" data-i18n="q2.a">完全不需要。所有语音识别在本地完成，即使在飞行模式下也能正常使用。</p></div>
    </div>
    <div class="faq-item reveal rd3">
      <button class="faq-q" onclick="toggleFaq(this)">
        <span data-i18n="q3.q">和 macOS 自带听写有什么区别？</span>
        <svg class="faq-arrow" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
      </button>
      <div class="faq-a"><p class="faq-a-inner" data-i18n="q3.a">macOS 自带听写需要联网（增强版除外），且使用剪贴板粘贴文字。VowKy 完全离线，通过键盘模拟直接输入，不占用剪贴板。</p></div>
    </div>
    <div class="faq-item reveal rd4">
      <button class="faq-q" onclick="toggleFaq(this)">
        <span data-i18n="q4.q">支持 Apple Silicon 吗？</span>
        <svg class="faq-arrow" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
      </button>
      <div class="faq-a"><p class="faq-a-inner" data-i18n="q4.a">完全支持。VowKy 原生适配 Apple Silicon (M1/M2/M3/M4) 和 Intel Mac。</p></div>
    </div>
    <div class="faq-item reveal rd1">
      <button class="faq-q" onclick="toggleFaq(this)">
        <span data-i18n="q5.q">快捷键可以自定义吗？</span>
        <svg class="faq-arrow" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
      </button>
      <div class="faq-a"><p class="faq-a-inner" data-i18n="q5.a">可以。在菜单栏设置中自定义触发快捷键，支持各种修饰键组合。</p></div>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta">
  <p class="cta-tagline reveal">
    <svg class="cta-butterfly" width="22" height="18" viewBox="0 0 24 18" fill="currentColor" aria-hidden="true" style="vertical-align:middle;color:var(--accent-main);opacity:0.4;">
      <path d="M12 6 C10.5 3,7 0.5,4 1.5 C1.5 2.5,0.5 5,1.5 7.5 C2 9,4 10,7 9.5 L10.5 9 C8.5 11,6 13.5,3.5 15 C2 16,2 17.5,3.5 17 C6 16,9 13,11 10 L12 8.5Z" opacity="0.1"/>
      <path d="M12 6 C13.5 3,17 0.5,20 1.5 C22.5 2.5,23.5 5,22.5 7.5 C22 9,20 10,17 9.5 L13.5 9 C15.5 11,18 13.5,20.5 15 C22 16,22 17.5,20.5 17 C18 16,15 13,13 10 L12 8.5Z" opacity="0.1"/>
      <g clip-path="url(#sm-lw)"><rect x="3.5" y="3" width="1.2" height="12" rx="0.6" opacity="0.8"/><rect x="6.5" y="1.5" width="1.2" height="15" rx="0.6"/><rect x="9.5" y="4" width="1" height="10" rx="0.5" opacity="0.75"/></g>
      <g clip-path="url(#sm-rw)"><rect x="13.5" y="4" width="1" height="10" rx="0.5" opacity="0.75"/><rect x="16.3" y="1.5" width="1.2" height="15" rx="0.6"/><rect x="19.3" y="3" width="1.2" height="12" rx="0.6" opacity="0.8"/></g>
      <rect x="11.5" y="5.5" width="1" height="8" rx="0.5"/><circle cx="12" cy="5" r="1"/>
    </svg>
    Your Voice. Your Mac. Your Data.
    <svg class="cta-butterfly" width="22" height="18" viewBox="0 0 24 18" fill="currentColor" aria-hidden="true" style="vertical-align:middle;color:var(--accent-main);opacity:0.4;transform:scaleX(-1);">
      <path d="M12 6 C10.5 3,7 0.5,4 1.5 C1.5 2.5,0.5 5,1.5 7.5 C2 9,4 10,7 9.5 L10.5 9 C8.5 11,6 13.5,3.5 15 C2 16,2 17.5,3.5 17 C6 16,9 13,11 10 L12 8.5Z" opacity="0.1"/>
      <path d="M12 6 C13.5 3,17 0.5,20 1.5 C22.5 2.5,23.5 5,22.5 7.5 C22 9,20 10,17 9.5 L13.5 9 C15.5 11,18 13.5,20.5 15 C22 16,22 17.5,20.5 17 C18 16,15 13,13 10 L12 8.5Z" opacity="0.1"/>
      <g clip-path="url(#sm-lw)"><rect x="3.5" y="3" width="1.2" height="12" rx="0.6" opacity="0.8"/><rect x="6.5" y="1.5" width="1.2" height="15" rx="0.6"/><rect x="9.5" y="4" width="1" height="10" rx="0.5" opacity="0.75"/></g>
      <g clip-path="url(#sm-rw)"><rect x="13.5" y="4" width="1" height="10" rx="0.5" opacity="0.75"/><rect x="16.3" y="1.5" width="1.2" height="15" rx="0.6"/><rect x="19.3" y="3" width="1.2" height="12" rx="0.6" opacity="0.8"/></g>
      <rect x="11.5" y="5.5" width="1" height="8" rx="0.5"/><circle cx="12" cy="5" r="1"/>
    </svg>
  </p>
  <div class="cta-actions reveal rd1">
    <a class="btn-primary" href="/downloads/VowKy-latest.dmg" data-i18n="cta.dl" data-umami-event="download_click" data-umami-event-location="cta" style="padding:0.85rem 2.25rem; font-size:1rem; text-decoration:none;">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
      免费下载 VowKy
    </a>
    <a class="btn-secondary" href="https://github.com/KF330330/vowky" target="_blank" data-i18n="cta.src" data-umami-event="github_click" data-umami-event-location="cta" style="padding:0.85rem 2.25rem; font-size:1rem;">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65S8.93 17.38 9 18v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
      查看源码
    </a>
  </div>
  <p class="cta-note" data-i18n="cta.note">macOS 13.0+ · 完全免费 · 开源</p>
</section>

<!-- Footer -->
<footer>
  <div class="footer-inner">
    <span class="footer-brand">VowKy</span>
    <span class="footer-copy">&copy; 2025 VowKy</span>
    <div class="footer-links">
      <a href="https://github.com/KF330330/vowky" target="_blank" data-umami-event="github_click" data-umami-event-location="footer">GitHub</a>
      <a href="#" data-i18n="footer.privacy">隐私政策</a>
    </div>
  </div>
</footer>

<script>
// ===== i18n =====
const i18n = {
  zh: {
    'nav.download': '下载',
    'hero.t1': '你的声音，', 'hero.t2': '解锁文字。',
    'hero.sub': '按下 ⌥ Space，说话，文字直达光标位置。完全离线识别，隐私无忧。',
    'hero.dl': '免费下载', 'hero.src': '查看源码',
    'hero.note': 'macOS 13.0+ · 完全免费 · 开源',
    'mock.status': '正在录音...', 'mock.hint': '再次按下', 'mock.hint2': '结束录音',
    'proof.1': '100% 离线', 'proof.2': '开源代码', 'proof.3': 'macOS 原生', 'proof.4': '< 50MB',
    'how.label': '使用方式', 'how.title': '三步，仅此而已',
    'how.desc': '没有复杂的设置，没有账号注册。安装即用。',
    's1.title': '按下快捷键', 's1.desc': '在任何应用中按下',
    's2.title': '说话', 's2.desc': '用自然语速说出内容，VowKy 实时聆听并识别。',
    's3.title': '文字直达光标', 's3.desc': '再次按下快捷键，识别完成的文字直接输入到光标位置。不经剪贴板。',
    'demo.hint': '声波可视化演示',
    'priv.main': '你的声音永远不会离开你的 Mac。', 'priv.forever': '永远。',
    'priv.sub': '零网络请求 · 零云端处理 · 零数据上传',
    'feat.label': '核心特性', 'feat.title': '为隐私而生',
    'feat.desc': '所有语音处理都在你的 Mac 上完成。',
    'f1.title': '完全离线', 'f1.desc': '基于 Sherpa-ONNX 引擎，语音识别完全在本地运行。断网能用，飞行模式也能用。你的声音数据从不离开这台电脑。',
    'f1.v1': '语音', 'f1.v2': '本地 AI', 'f1.v3': '文字',
    'f2.title': '全局输入', 'f2.desc': '在任何应用的任何输入框中使用。浏览器、编辑器、聊天软件——无处不在。',
    'f3.title': '即时响应', 'f3.desc': '本地推理，毫秒级响应。自动补全标点符号。',
    'f4.title': '极简设计', 'f4.desc': '菜单栏常驻，不占 Dock。自定义快捷键，Escape 随时取消。历史记录可查。',
    'spec.label': '技术细节', 'spec.title': '引擎盖之下',
    'spec.output': 'output', 'spec.output.v': 'CGEvent 键盘模拟（非剪贴板）',
    'spec.privacy': 'privacy', 'spec.privacy.v': '100% 本地处理',
    'faq.label': '常见问题', 'faq.title': '常见问题',
    'q1.q': 'VowKy 支持哪些语言？', 'q1.a': '目前支持中文普通话识别，基于 Paraformer 模型。未来将支持更多语言。',
    'q2.q': '需要联网吗？', 'q2.a': '完全不需要。所有语音识别在本地完成，即使在飞行模式下也能正常使用。',
    'q3.q': '和 macOS 自带听写有什么区别？', 'q3.a': 'macOS 自带听写需要联网（增强版除外），且使用剪贴板粘贴文字。VowKy 完全离线，通过键盘模拟直接输入，不占用剪贴板。',
    'q4.q': '支持 Apple Silicon 吗？', 'q4.a': '完全支持。VowKy 原生适配 Apple Silicon (M1/M2/M3/M4) 和 Intel Mac。',
    'q5.q': '快捷键可以自定义吗？', 'q5.a': '可以。在菜单栏设置中自定义触发快捷键，支持各种修饰键组合。',
    'cta.dl': '免费下载 VowKy', 'cta.src': '查看源码', 'cta.note': 'macOS 13.0+ · 完全免费 · 开源',
    'footer.privacy': '隐私政策',
  },
  en: {
    'nav.download': 'Download',
    'hero.t1': 'Your voice,', 'hero.t2': 'unlocked.',
    'hero.sub': 'Press ⌥ Space, speak, and text lands at your cursor. Fully offline. Complete privacy.',
    'hero.dl': 'Free Download', 'hero.src': 'View Source',
    'hero.note': 'macOS 13.0+ · Free · Open Source',
    'mock.status': 'Recording...', 'mock.hint': 'Press', 'mock.hint2': 'again to stop',
    'proof.1': '100% Offline', 'proof.2': 'Open Source', 'proof.3': 'Native macOS', 'proof.4': '< 50MB',
    'how.label': 'HOW IT WORKS', 'how.title': 'Three steps. That\'s it.',
    'how.desc': 'No setup, no account, no cloud. Install and go.',
    's1.title': 'Press Hotkey', 's1.desc': 'Press',
    's2.title': 'Speak', 's2.desc': 'Speak naturally. VowKy listens and recognizes in real time.',
    's3.title': 'Text at Cursor', 's3.desc': 'Press the hotkey again. Recognized text goes right to your cursor. No clipboard.',
    'demo.hint': 'Waveform visualization',
    'priv.main': 'Your voice never leaves your Mac.', 'priv.forever': 'Ever.',
    'priv.sub': 'Zero network requests · Zero cloud processing · Zero data uploads',
    'feat.label': 'FEATURES', 'feat.title': 'Built for Privacy',
    'feat.desc': 'All voice processing happens on your Mac.',
    'f1.title': 'Fully Offline', 'f1.desc': 'Powered by Sherpa-ONNX engine. Works without internet, even in airplane mode. Your voice data never leaves this machine.',
    'f1.v1': 'Voice', 'f1.v2': 'Local AI', 'f1.v3': 'Text',
    'f2.title': 'Global Input', 'f2.desc': 'Works in any text field across any app. Browsers, editors, chat — everywhere.',
    'f3.title': 'Instant', 'f3.desc': 'Local inference, millisecond response. Auto punctuation.',
    'f4.title': 'Minimal', 'f4.desc': 'Menu bar only, no Dock icon. Custom hotkey. Escape to cancel. Full history.',
    'spec.label': 'UNDER THE HOOD', 'spec.title': 'Under the Hood',
    'spec.output': 'output', 'spec.output.v': 'CGEvent keyboard sim (no clipboard)',
    'spec.privacy': 'privacy', 'spec.privacy.v': '100% local processing',
    'faq.label': 'FAQ', 'faq.title': 'Frequently Asked',
    'q1.q': 'What languages are supported?', 'q1.a': 'Currently supports Mandarin Chinese via the Paraformer model. More languages coming soon.',
    'q2.q': 'Does it need internet?', 'q2.a': 'Not at all. All recognition is local. Works even in airplane mode.',
    'q3.q': 'How is it different from macOS Dictation?', 'q3.a': 'macOS Dictation requires internet (except Enhanced mode) and uses clipboard. VowKy is fully offline and inserts via keyboard simulation — no clipboard involved.',
    'q4.q': 'Apple Silicon support?', 'q4.a': 'Fully native on Apple Silicon (M1/M2/M3/M4) and Intel Macs.',
    'q5.q': 'Can I customize the hotkey?', 'q5.a': 'Yes. Set your preferred hotkey in the menu bar settings. Any modifier key combo works.',
    'cta.dl': 'Download VowKy Free', 'cta.src': 'View Source', 'cta.note': 'macOS 13.0+ · Free · Open Source',
    'footer.privacy': 'Privacy',
  }
};

let currentLang = 'zh';

function switchLang(lang) {
  currentLang = lang;
  document.querySelectorAll('.lang-btn').forEach(b => b.classList.toggle('active', b.dataset.lang === lang));
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.dataset.i18n;
    if (i18n[lang][key]) el.textContent = i18n[lang][key];
  });
  document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';
  if (window._updateTypingLang) window._updateTypingLang(lang);
  localStorage.setItem('vowky-lang', lang);
}

// Auto-detect language
(function() {
  const saved = localStorage.getItem('vowky-lang');
  const browser = navigator.language.startsWith('zh') ? 'zh' : 'en';
  const lang = saved || browser;
  if (lang !== 'zh') switchLang(lang);
})();

// ===== Typing Demo =====
(function() {
  const phrases = {
    zh: ['你好，今天天气真不错。','明天下午三点开会，记得准备材料。','帮我订一张周五去上海的机票。','这个方案需要重新评估一下风险。','麻烦把会议纪要发到群里。'],
    en: ['Hello, the weather is great today.','Meeting at 3 PM tomorrow, prepare materials.','Book me a flight to Shanghai on Friday.','This plan needs a risk reassessment.','Please share the meeting notes.']
  };
  const el = document.getElementById('demoText');
  let pi = 0, ci = 0, del = false, lang = currentLang, timeout;

  function type() {
    const p = phrases[lang][pi % phrases[lang].length];
    if (!del) {
      ci++;
      el.innerHTML = p.slice(0, ci) + '<span class="demo-cursor"></span>';
      if (ci >= p.length) { timeout = setTimeout(() => { del = true; type(); }, 2400); return; }
      timeout = setTimeout(type, 80 + Math.random() * 60);
    } else {
      ci--;
      el.innerHTML = p.slice(0, ci) + '<span class="demo-cursor"></span>';
      if (ci <= 0) { del = false; pi++; timeout = setTimeout(type, 500); return; }
      timeout = setTimeout(type, 20);
    }
  }
  type();

  window._updateTypingLang = function(l) {
    lang = l; clearTimeout(timeout);
    ci = 0; del = false;
    el.innerHTML = '<span class="demo-cursor"></span>';
    setTimeout(type, 300);
  };
})();

// ===== SVG Waveform =====
(function() {
  const paths = [document.getElementById('wavePath1'), document.getElementById('wavePath2')];
  const demoPath = document.getElementById('demoWavePath');
  let t = 0;

  function wave(w, h, time, offset) {
    const pts = []; const seg = 48;
    for (let i = 0; i <= seg; i++) {
      const x = (i / seg) * w;
      const nx = i / seg;
      const env = Math.exp(-Math.pow((nx - 0.5) * 3, 2));
      const v = Math.sin(nx * 8 + time * 2 + offset) * 0.5
              + Math.sin(nx * 14 + time * 3.1 + offset) * 0.3
              + Math.sin(nx * 22 + time * 1.7 + offset) * 0.2;
      pts.push(`${x.toFixed(1)},${(h / 2 + v * env * h * 0.35).toFixed(1)}`);
    }
    return 'M ' + pts.join(' L ');
  }

  function animate() {
    t += 0.016;
    if (paths[0]) paths[0].setAttribute('d', wave(280, 50, t, 0));
    if (paths[1]) paths[1].setAttribute('d', wave(280, 50, t, 1.5));
    if (demoPath) demoPath.setAttribute('d', wave(200, 60, t, 0.8));
    requestAnimationFrame(animate);
  }
  animate();
})();

// ===== Scroll Reveal =====
(function() {
  const obs = new IntersectionObserver(entries => {
    entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
  }, { threshold: 0.12 });
  document.querySelectorAll('.reveal').forEach(el => obs.observe(el));
})();

// ===== Nav Scroll =====
(function() {
  const nav = document.getElementById('navbar');
  window.addEventListener('scroll', () => nav.classList.toggle('scrolled', window.scrollY > 30), { passive: true });
})();

// ===== Terminal Line Print =====
(function() {
  const terminal = document.getElementById('terminal');
  if (!terminal) return;
  const lines = terminal.querySelectorAll('.terminal-line');
  let printed = false;

  const obs = new IntersectionObserver(entries => {
    entries.forEach(e => {
      if (e.isIntersecting && !printed) {
        printed = true;
        lines.forEach((line, i) => {
          setTimeout(() => line.classList.add('visible'), i * 150);
        });
      }
    });
  }, { threshold: 0.3 });
  obs.observe(terminal);
})();

// ===== FAQ Toggle =====
function toggleFaq(btn) {
  const item = btn.closest('.faq-item');
  const wasOpen = item.classList.contains('open');
  item.classList.toggle('open');
  if (!wasOpen && typeof umami !== 'undefined') {
    const idx = Array.from(document.querySelectorAll('.faq-item')).indexOf(item);
    umami.track('faq_open', { question: 'q' + (idx + 1) });
  }
}

// ===== Analytics Events =====
(function() {
  function track(event, data) {
    if (typeof umami !== 'undefined') umami.track(event, data);
  }

  var origSwitchLang = window.switchLang;
  window.switchLang = function(lang) {
    origSwitchLang(lang);
    track('lang_switch', { to: lang });
  };

  var sectionsSeen = {};
  var sectionMap = [
    { selector: '.proof-bar', name: 'proof' },
    { selector: '#how', name: 'how' },
    { selector: '.privacy-section', name: 'privacy' },
    { selector: '#features', name: 'features' },
    { selector: '#specs', name: 'specs' },
    { selector: '#faq', name: 'faq' },
    { selector: '.cta', name: 'cta' }
  ];

  var scrollObs = new IntersectionObserver(function(entries) {
    entries.forEach(function(e) {
      if (e.isIntersecting) {
        var name = e.target.dataset.scrollSection;
        if (name && !sectionsSeen[name]) {
          sectionsSeen[name] = true;
          track('scroll_depth', { section: name });
        }
      }
    });
  }, { threshold: 0.3 });

  sectionMap.forEach(function(s) {
    var el = document.querySelector(s.selector);
    if (el) {
      el.dataset.scrollSection = s.name;
      scrollObs.observe(el);
    }
  });
})();
</script>

</body>
</html>
